<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript">
	function BMIindex() {
		var errTag = document.getElementById("err");
		var resultTag = document.getElementById("result");
		
		errTag.innerHTML = "";
		resultTag.innerHTML = "";
		document.fm.weight.style.backgroundColor = "white";
		document.fm.height.style.backgroundColor = "white";
		
		var weight = document.fm.weight.value;
		var height = document.fm.height.value;

		var errorMessages = [];
		if (weight == "") {
			errorMessages.push("体重 を入力してください。");
			document.fm.weight.style.backgroundColor = "red";
		}
		if (height == "") {
			errorMessages.push("身長 を入力してください。");
			document.fm.height.style.backgroundColor = "red";
		}
		if (weight.length>3) {
			errorMessages.push("体重 には 3 桁以内の数値を入力してください。");
			document.fm.weight.style.backgroundColor = "red";
		}
		if (height.length>3) {
			errorMessages.push("身長 には 3 桁以内の数値を入力してください。");
			document.fm.height.style.backgroundColor = "red";
		}
		if (errorMessages.length > 0) {
			var msg = errorMessages.join("<br>");
			errTag.innerHTML = msg;
			return;
		}
		
		var weightNum = parseInt(document.fm.weight.value);
		var heightNum = parseInt(document.fm.height.value);
		var heightSquare = (heightNum/100)*(heightNum/100);
		var BMI = weightNum/heightSquare;
		var BMIindex = BMI.toFixed(2);
		
		var result = "";
		if(BMIindex <18.5){
			result = "低体重";
		}else if(BMIindex <=25){
			result = "普通体重";
		}else{
			result = "肥満";
		}		
		resultTag.innerHTML = "BMIindex(" + BMIindex +") :"+ result;
		
	}
</script>
</head>
<body>
	<span id="err" style="color: red"></span>
	<form name="fm">
		<input name="weight" type="text" />kg <br/>
		<input name="height" type="text" />cm <br/>
		<input type="button" value="計算" onclick="BMIindex();" /><br/>
	</form>
	<div id="result"></div>
</body>
</html>